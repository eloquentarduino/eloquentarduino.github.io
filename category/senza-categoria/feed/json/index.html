{
    "version": "https://jsonfeed.org/version/1.1",
    "user_comment": "This feed allows you to read the posts from this site in any feed reader that supports the JSON Feed format. To add this feed to your reader, copy the following URL -- https://eloquentarduino.github.io/category/senza-categoria/feed/json/ -- and add it your reader.",
    "home_page_url": "https://eloquentarduino.github.io/category/senza-categoria/",
    "feed_url": "https://eloquentarduino.github.io/category/senza-categoria/feed/json/",
    "language": "en-US",
    "title": "Senza categoria &#8211; Eloquent Arduino Blog",
    "description": "Machine learning on Arduino, programming &amp; electronics",
    "items": [
        {
            "id": "https://eloquentarduino.github.io/?p=1203",
            "url": "https://eloquentarduino.github.io/2020/06/easy-esp32-camera-http-video-streaming-server/",
            "title": "Easy ESP32 camera HTTP video streaming server",
            "content_html": "<p>This will be a short post where I introduce a new addition to the Arduino Eloquent library aimed to make video streaming from an ESP32 camera over HTTP super easy. It will be the first component of a larger project I'm going to implement.</p>\n<p><span id=\"more-1203\"></span></p>\n<p>If you Google &quot;esp32 video streaming&quot; you will get a bunch of results that are essentialy copy-pasted from the official Espressif repo: many of them neither copy-pasted the code, just tell you to load the example sketch.</p>\n<p>And if you try to read it and try to modify just a bit for your own use-case, you won't understand much.</p>\n<p>This is the exact environment for an Eloquent component to live: make it painfully easy what's messy.</p>\n<p>I still have to find a good naming scheme for my libraries since Arduino IDE doesn't allow nested imports, so forgive me if &quot;ESP32CameraHTTPVideoStreamingServer.h&quot; was the best that came to mind.</p>\n<p>How easy is it to use?</p>\n<p>1 line of code if used in conjuction with my other library <a href=\"https://github.com/eloquentarduino/EloquentVision\">EloquentVision</a>.</p>\n<pre><code class=\"language-cpp\">#define CAMERA_MODEL_M5STACK_WIDE\n#include &quot;WiFi.h&quot;\n#include &quot;EloquentVision.h&quot;\n#include &quot;ESP32CameraHTTPVideoStreamingServer.h&quot;\n\nusing namespace Eloquent::Vision;\nusing namespace Eloquent::Vision::Camera;\n\nESP32Camera camera;\nHTTPVideoStreamingServer server(81);\n\n/**\n *\n */\nvoid setup() {\n    Serial.begin(115200);\n    WiFi.softAP(&quot;ESP32&quot;, &quot;12345678&quot;);\n\n    camera.begin(FRAMESIZE_QVGA, PIXFORMAT_JPEG);\n    server.start();\n\n    Serial.print(&quot;Camera Ready! Use &#039;http://&quot;);\n    Serial.print(WiFi.softAPIP());\n    Serial.println(&quot;:81&#039; to stream&quot;);\n}\n\nvoid loop() {\n}</code></pre>\n<p><code>HTTPVideoStreamingServer</code> assumes you already initialized your camera. You can achieve this task in the way you prefer: <code>ESP32Camera</code> class makes this a breeze.</p>\n<p><code>81</code> in the server constructor is the port you want the server to be listening to.</p>\n<p>Once connected to WiFi or started in AP mode, all you have to do is call <code>start()</code>: that's it!</p>\n<!-- Begin Mailchimp Signup Form -->\r\n<div id=\"mc_embed_signup\">\r\n<form action=\"https://github.us4.list-manage.com/subscribe/post?u=f0eaedd94d554cf2ee781742a&id=37d3496031\" method=\"post\" id=\"mc-embedded-subscribe-form\" name=\"mc-embedded-subscribe-form\" class=\"validate\" target=\"_blank\" novalidate>\r\n    <div id=\"mc_embed_signup_scroll\">\r\n\t<h2 style=\"margin: 0; text-align: center\">Finding this content useful?</h2>\r\n<div class=\"mc-field-group\">\r\n\t<input type=\"email\" value=\"\" name=\"EMAIL\" class=\"required email\" id=\"mce-EMAIL\" placeholder=\"join the monthly newsletter\">\r\n</div>\r\n\t<div id=\"mce-responses\" class=\"clear\">\r\n\t\t<div class=\"response\" id=\"mce-error-response\" style=\"display:none\"></div>\r\n\t\t<div class=\"response\" id=\"mce-success-response\" style=\"display:none\"></div>\r\n\t</div>    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->\r\n    <div style=\"position: absolute; left: -5000px;\" aria-hidden=\"true\"><input type=\"text\" name=\"b_f0eaedd94d554cf2ee781742a_37d3496031\" tabindex=\"-1\" value=\"\"></div>\r\n    <div class=\"clear\" style=\"position: relative; top: 8px\"><input type=\"submit\" value=\"Subscribe\" name=\"subscribe\" id=\"mc-embedded-subscribe\" class=\"button\"></div>\r\n    </div>\r\n</form>\r\n</div>\r\n\r\n<!--End mc_embed_signup-->\n<p>What else is it good for?</p>\n<p>The main reason I wrote this piece of library is because one of you reader commented on the <a href=\"/2020/05/easier-faster-pure-video-esp32-cam-motion-detection/\">motion detection post</a> asking if it would be possible to start the video streaming once motion is detected.</p>\n<p>Of course it is.</p>\n<p>It's just a matter of composing the Eloquent pieces.</p>\n<pre><code class=\"language-cpp\">#define CAMERA_MODEL_M5STACK_WIDE\n#include &quot;WiFi.h&quot;\n#include &quot;EloquentVision.h&quot;\n#include &quot;ESP32CameraHTTPVideoStreamingServer.h&quot;\n\n#define SOURCE_WIDTH 320\n#define SOURCE_HEIGHT 240\n#define BLOCK_SIZE 10\n#define BLOCK_DIFF_THRESHOLD 0.2\n#define IMAGE_DIFF_THRESHOLD 0.1\n\nusing namespace Eloquent::Vision;\nusing namespace Eloquent::Vision::Camera;\nusing namespace Eloquent::Vision::ImageProcessing;\nusing namespace Eloquent::Vision::ImageProcessing::Downscale;\n\nESP32Camera camera;\nHTTPVideoStreamingServer server(81);\nMotionDetection&lt; SOURCE_WIDTH, SOURCE_HEIGHT, BLOCK_SIZE&gt; motion(nearest);\n\n/**\n *\n */\nvoid setup() {\n    Serial.begin(115200);\n    WiFi.softAP(&quot;ESP32&quot;, &quot;12345678&quot;);\n\n    camera.begin(FRAMESIZE_QVGA, PIXFORMAT_JPEG);\n\n    Serial.print(&quot;Camera Ready! Use &#039;http://&quot;);\n    Serial.print(WiFi.softAPIP());\n    Serial.println(&quot;:81&#039; to stream&quot;);\n}\n\nvoid loop() {\n    motion.update(camera.capture()-&gt;buf);\n\n    if (motion.detectRatio() &gt; IMAGE_DIFF_THRESHOLD) {\n        Serial.print(&quot;Motion detected&quot;);\n        // start the streaming server when motion is detected\n        // shutdown after 20 seconds if no one connects\n        server.start();\n        delay(20000);\n        server.stop();\n    }\n\n    // probably we don&#039;t need 30 fps, save some power\n    delay(300);\n}</code></pre>\n<p>Does it look good?</p>\n<p>Now the rationale behind Eloquent components should be starting to be clear to you: easy to use objects you can compose the way it fits to achieve the result you want.</p>\n<p>Would you suggest me more piece of functionality you would like to see wrapped in an Eloquent component?</p>\n<hr />\n<p>You can find the <a href=\"https://github.com/eloquentarduino/EloquentVision/blob/master/src/ESP32CameraHTTPVideoStreamingServer.h\">class code</a> and the <a href=\"https://github.com/eloquentarduino/EloquentVision/blob/master/examples/ESP32CameraHTTPVideoStreamingServerExample/ESP32CameraHTTPVideoStreamingServerExample.ino\">example sketch</a> on the <a href=\"https://github.com/eloquentarduino/EloquentVision\">Github repo</a>.</p>\n<p>L'articolo <a rel=\"nofollow\" href=\"https://eloquentarduino.github.io/2020/06/easy-esp32-camera-http-video-streaming-server/\">Easy ESP32 camera HTTP video streaming server</a> proviene da <a rel=\"nofollow\" href=\"http://eloquentarduino.github.io/\">Eloquent Arduino Blog</a>.</p>\n",
            "content_text": "This will be a short post where I introduce a new addition to the Arduino Eloquent library aimed to make video streaming from an ESP32 camera over HTTP super easy. It will be the first component of a larger project I'm going to implement.\n\nIf you Google &quot;esp32 video streaming&quot; you will get a bunch of results that are essentialy copy-pasted from the official Espressif repo: many of them neither copy-pasted the code, just tell you to load the example sketch.\nAnd if you try to read it and try to modify just a bit for your own use-case, you won't understand much.\nThis is the exact environment for an Eloquent component to live: make it painfully easy what's messy.\nI still have to find a good naming scheme for my libraries since Arduino IDE doesn't allow nested imports, so forgive me if &quot;ESP32CameraHTTPVideoStreamingServer.h&quot; was the best that came to mind.\nHow easy is it to use?\n1 line of code if used in conjuction with my other library EloquentVision.\n#define CAMERA_MODEL_M5STACK_WIDE\n#include &quot;WiFi.h&quot;\n#include &quot;EloquentVision.h&quot;\n#include &quot;ESP32CameraHTTPVideoStreamingServer.h&quot;\n\nusing namespace Eloquent::Vision;\nusing namespace Eloquent::Vision::Camera;\n\nESP32Camera camera;\nHTTPVideoStreamingServer server(81);\n\n/**\n *\n */\nvoid setup() {\n    Serial.begin(115200);\n    WiFi.softAP(&quot;ESP32&quot;, &quot;12345678&quot;);\n\n    camera.begin(FRAMESIZE_QVGA, PIXFORMAT_JPEG);\n    server.start();\n\n    Serial.print(&quot;Camera Ready! Use &#039;http://&quot;);\n    Serial.print(WiFi.softAPIP());\n    Serial.println(&quot;:81&#039; to stream&quot;);\n}\n\nvoid loop() {\n}\nHTTPVideoStreamingServer assumes you already initialized your camera. You can achieve this task in the way you prefer: ESP32Camera class makes this a breeze.\n81 in the server constructor is the port you want the server to be listening to.\nOnce connected to WiFi or started in AP mode, all you have to do is call start(): that's it!\n\r\n\r\n\r\n    \r\n\tFinding this content useful?\r\n\r\n\t\r\n\r\n\t\r\n\t\t\r\n\t\t\r\n\t    \r\n    \r\n    \r\n    \r\n\r\n\r\n\r\n\nWhat else is it good for?\nThe main reason I wrote this piece of library is because one of you reader commented on the motion detection post asking if it would be possible to start the video streaming once motion is detected.\nOf course it is.\nIt's just a matter of composing the Eloquent pieces.\n#define CAMERA_MODEL_M5STACK_WIDE\n#include &quot;WiFi.h&quot;\n#include &quot;EloquentVision.h&quot;\n#include &quot;ESP32CameraHTTPVideoStreamingServer.h&quot;\n\n#define SOURCE_WIDTH 320\n#define SOURCE_HEIGHT 240\n#define BLOCK_SIZE 10\n#define BLOCK_DIFF_THRESHOLD 0.2\n#define IMAGE_DIFF_THRESHOLD 0.1\n\nusing namespace Eloquent::Vision;\nusing namespace Eloquent::Vision::Camera;\nusing namespace Eloquent::Vision::ImageProcessing;\nusing namespace Eloquent::Vision::ImageProcessing::Downscale;\n\nESP32Camera camera;\nHTTPVideoStreamingServer server(81);\nMotionDetection&lt; SOURCE_WIDTH, SOURCE_HEIGHT, BLOCK_SIZE&gt; motion(nearest);\n\n/**\n *\n */\nvoid setup() {\n    Serial.begin(115200);\n    WiFi.softAP(&quot;ESP32&quot;, &quot;12345678&quot;);\n\n    camera.begin(FRAMESIZE_QVGA, PIXFORMAT_JPEG);\n\n    Serial.print(&quot;Camera Ready! Use &#039;http://&quot;);\n    Serial.print(WiFi.softAPIP());\n    Serial.println(&quot;:81&#039; to stream&quot;);\n}\n\nvoid loop() {\n    motion.update(camera.capture()-&gt;buf);\n\n    if (motion.detectRatio() &gt; IMAGE_DIFF_THRESHOLD) {\n        Serial.print(&quot;Motion detected&quot;);\n        // start the streaming server when motion is detected\n        // shutdown after 20 seconds if no one connects\n        server.start();\n        delay(20000);\n        server.stop();\n    }\n\n    // probably we don&#039;t need 30 fps, save some power\n    delay(300);\n}\nDoes it look good?\nNow the rationale behind Eloquent components should be starting to be clear to you: easy to use objects you can compose the way it fits to achieve the result you want.\nWould you suggest me more piece of functionality you would like to see wrapped in an Eloquent component?\n\nYou can find the class code and the example sketch on the Github repo.\nL'articolo Easy ESP32 camera HTTP video streaming server proviene da Eloquent Arduino Blog.",
            "date_published": "2020-06-24T19:27:33+02:00",
            "date_modified": "2020-06-24T20:21:32+02:00",
            "authors": [
                {
                    "name": "simone",
                    "url": "https://eloquentarduino.github.io/author/simone/",
                    "avatar": "http://1.gravatar.com/avatar/d670eb91ca3b1135f213ffad83cb8de4?s=512&d=mm&r=g"
                }
            ],
            "tags": [
                "Senza categoria"
            ]
        }
    ]
}